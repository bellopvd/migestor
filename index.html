<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Puntos Vive Digital - Mi Gestor</title>
<style>
body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  color:white;
  background: radial-gradient(circle at 20% 20%, #0f0c29, #302b63, #24243e);
  background-attachment: fixed;
  overflow-x: hidden;
}
.tech-overlay{
  position:fixed;
  width:100%;
  height:100%;
  background-image: radial-gradient(rgba(0,255,255,0.15) 1px, transparent 1px);
  background-size: 40px 40px;
  pointer-events:none;
}
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px 40px;
  background: rgba(0,0,0,0.7);
  backdrop-filter: blur(10px);
  box-shadow: 0 0 20px #00f7ff;
}
.header img,
.footer-logos img {
    filter: brightness(0) invert(1) !important;
    -webkit-filter: brightness(0) invert(1) !important;
    height:60px;
}
.brand-title{ font-size:24px; font-weight:bold; letter-spacing:2px; color:#00f7ff; text-shadow:0 0 10px #0ff; }
.container{
  width:95%; max-width:1200px; margin:40px auto;
  background: rgba(0,0,0,0.25);
  backdrop-filter: blur(25px);
  border-radius:25px; padding:30px;
  box-shadow:0 0 50px rgba(0,255,255,0.4);
  display:none; transition: all 0.5s;
}
input,button{
  padding:12px; border-radius:10px; border:none; font-size:14px; transition: all 0.2s;
}
input{ background:rgba(255,255,255,0.05); color:white; border:1px solid #00f7ff; }
input[type=password] { /* mostrar asteriscos */
  -webkit-text-security: disc;
}
button{ background:#00f7ff; color:black; font-weight:bold; cursor:pointer; margin-left:5px; box-shadow: 0 0 10px #00f7ff; }
button:hover{ transform:scale(1.05); box-shadow:0 0 20px #0ff; }
.task{
  background: rgba(0,255,255,0.1);
  padding:15px; border-radius:20px;
  display:flex; justify-content:space-between; align-items:center;
  margin-bottom:12px;
  box-shadow:0 0 15px #00f7ff;
}
.task-actions{ display:flex; gap:5px; }
.history{
  background: rgba(255,255,255,0.05);
  padding:15px; border-radius:20px;
  display:flex; justify-content:space-between; align-items:center;
  margin-bottom:12px;
  box-shadow:0 0 15px #0ff;
}
.overdue{ color:#ff4d4d; font-weight:bold; text-shadow:0 0 5px #f00; }
.upcoming{ color:#ffcc00; font-weight:bold; text-shadow:0 0 5px #ff0; }
.countdown{ font-size:12px; color:#ffcc00; font-weight:bold; text-shadow:0 0 5px #ff0; }
.grid{ display:grid; grid-template-columns:1fr 1fr; gap:30px; }
.login{ height:100vh; display:flex; justify-content:center; align-items:center; flex-direction:column; }
.login-box{ background:rgba(0,0,0,0.8); padding:50px; border-radius:25px; box-shadow:0 0 60px #00f7ff; text-align:center; }
.footer-logos{ display:flex; justify-content:center; gap:40px; margin-top:40px; }
</style>
</head>
<body>
<div class="tech-overlay"></div>
<div class="header">
  <div class="brand-title">PUNTOS VIVE DIGITAL</div>
  <div>
    <img src="logo_vivedigital.png" alt="Vive Digital">
    <img src="Sena_Colombia_logo.svg.png" alt="SENA">
    <img src="1-07.png" alt="Logo">
  </div>
</div>
<div class="login" id="loginBox">
  <div class="login-box">
    <h2>üîê Acceso Seguro</h2>
    <input type="password" id="password" placeholder="Contrase√±a">
    <br><br>
    <button onclick="login()">Ingresar</button>
  </div>
</div>
<div class="container" id="app">
  <h1>üöÄ Mi Gestor Inteligente </h1>
  <div style="display:flex;gap:10px;flex-wrap:wrap;margin-bottom:20px;">
    <input type="text" id="taskText" placeholder="Nueva tarea" style="flex:1;">
    <button id="dictateBtn">üé§</button>
    <input type="date" id="taskDate">
    <input type="time" id="taskTime">
    <button onclick="addTask()">Agregar</button>
  </div>
  <div class="grid">
    <div>
      <h3>‚è≥ Pendientes</h3>
      <div id="taskList"></div>
    </div>
    <div>
      <h3>‚úÖ Historial</h3>
      <div id="historyList"></div>
    </div>
  </div>
  <div class="footer-logos">
    <img src="logo_vivedigital.png">
    <img src="Sena_Colombia_logo.svg.png">
    <img src="1-07.png">
  </div>
</div>
<script>
const PASSWORD="6232";
let tasks = JSON.parse(localStorage.getItem("tasks")||"[]");
let history = JSON.parse(localStorage.getItem("history")||"[]");

function login(){
  const entered=document.getElementById("password").value;
  if(entered===PASSWORD){
    sessionStorage.setItem("authenticated","true");
    document.getElementById("loginBox").style.display="none";
    document.getElementById("app").style.display="block";
    render();
    setInterval(updateCountdowns,1000);
  } else alert("Contrase√±a incorrecta");
}

function checkPassword(){
  const pwd = prompt("Ingrese la contrase√±a para esta acci√≥n:");
  if(pwd!==PASSWORD){ alert("Contrase√±a incorrecta"); return false; }
  return true;
}

function addTask(){ if(!checkPassword()) return; const text=document.getElementById("taskText").value; const date=document.getElementById("taskDate").value; const time=document.getElementById("taskTime").value; if(!text||!date||!time) return alert("Completa todos los campos"); tasks.push({id:Date.now(),text,date,time}); localStorage.setItem("tasks",JSON.stringify(tasks)); render(); }
function editTask(id){ if(!checkPassword()) return; const task=tasks.find(t=>t.id===id); const newText=prompt("Edita el nombre de la tarea:",task.text); if(newText&&newText.trim()!=""){task.text=newText; localStorage.setItem("tasks",JSON.stringify(tasks)); render();} }
function deleteTask(id){ if(!checkPassword()) return; tasks=tasks.filter(t=>t.id!==id); localStorage.setItem("tasks",JSON.stringify(tasks)); render(); }
function completeTask(id){ if(!checkPassword()) return; const task=tasks.find(t=>t.id===id); tasks=tasks.filter(t=>t.id!==id); task.completedAt=new Date().toLocaleString(); history.push(task); localStorage.setItem("tasks",JSON.stringify(tasks)); localStorage.setItem("history",JSON.stringify(history)); render(); }
function deleteHistoryTask(index){ if(!checkPassword()) return; history.splice(index,1); localStorage.setItem("history",JSON.stringify(history)); render(); }

function render(){ const now=new Date(); const taskList=document.getElementById("taskList"); const historyList=document.getElementById("historyList"); taskList.innerHTML=""; historyList.innerHTML=""; tasks.forEach(task=>{ const dt=new Date(`${task.date}T${task.time}`); const overdue=dt<now?"overdue":"upcoming"; taskList.innerHTML+=`<div class="task"><div><strong class="${overdue}">${task.text}</strong><br><small>${task.date} ${task.time}</small><div class='countdown' id='countdown-${task.id}'></div></div><div class="task-actions"><button onclick="editTask(${task.id})">‚úèÔ∏è</button><button onclick="deleteTask(${task.id})" style="background:#ff4d4d;">üóë</button><button onclick="completeTask(${task.id})" style="background:#00ff64;">‚úî</button></div></div>`; }); history.forEach((task,i)=>{ historyList.innerHTML+=`<div class="history"><div><strong>${task.text}</strong><br><small>Cumplida: ${task.completedAt}</small></div><button onclick="deleteHistoryTask(${i})">üóë</button></div>`; }); updateCountdowns(); }

function updateCountdowns(){ const now=new Date(); tasks.forEach(task=>{ const dt=new Date(`${task.date}T${task.time}`); const countdownEl=document.getElementById(`countdown-${task.id}`); if(countdownEl){ let diff=Math.max(0, dt-now); let hrs=Math.floor(diff/3600000); let mins=Math.floor((diff%3600000)/60000); let secs=Math.floor((diff%60000)/1000); countdownEl.textContent=diff>0?`‚è± ${hrs}h ${mins}m ${secs}s restantes`:`‚è± Vencida`; } }); }

// Dictado por voz sin contrase√±a
let recognition;
document.getElementById('dictateBtn').addEventListener('click', () => { const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition; if (!SpeechRecognition) return alert("Usa Google Chrome con soporte de reconocimiento de voz"); recognition = new SpeechRecognition(); recognition.lang = 'es-ES'; recognition.interimResults = false; recognition.maxAlternatives = 1; recognition.start(); recognition.onresult = (event) => { document.getElementById("taskText").value = event.results[0][0].transcript; }; recognition.onerror = (event) => { if(event.error==='no-speech'){alert('No se detect√≥ voz. Intenta de nuevo.');} else {alert('Error en reconocimiento de voz: '+event.error);} }; recognition.onend = ()=>{ console.log('Dictado finalizado'); }; });

function initDateTime(){ const now=new Date(); const yyyy=now.getFullYear(); const mm=String(now.getMonth()+1).padStart(2,'0'); const dd=String(now.getDate()).padStart(2,'0'); const hh=String(now.getHours()).padStart(2,'0'); const mi=String(now.getMinutes()).padStart(2,'0'); document.getElementById("taskDate").value=`${yyyy}-${mm}-${dd}`; document.getElementById("taskTime").value=`${hh}:${mi}`; }
initDateTime();
</script>
</body>
</html>